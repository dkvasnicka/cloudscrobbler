<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
    <head>
        <title>Cloudscrobbler - Mixcloud and Last.fm in love</title>
    </head>
    <body>
        <h1>Cloudscrobbler - Mixcloud and Last.fm in love</h1>
        <c:if test="#{empty lastFmSession}">
            <div id="login">
                <a href="http://www.last.fm/api/auth/?api_key=3114f8efd48db0275c92b6bf0ac55ee5&amp;cb=http://localhost:8080/cloudscrobbler-1.0/auth/cb">
                    Connect with Last.fm
                    <img src="img/lastfm_red.gif" alt="Connect with Last.fm" title="Connect with Last.fm" />
                </a>
            </div>
        </c:if>
        
        <h:form rendered="#{not empty lastFmSession}" id="settingsForm">
            My Last.fm username is <strong>#{lastFmSession.username}</strong> and I want to 
            <h:selectOneMenu value="#{settings.listener.enableScrobbling}">
                <f:selectItem itemLabel="scrobble every mix I play on Mixcloud" itemValue="true" />
                <f:selectItem itemLabel="disable Mixcloud scrobbling for now" itemValue="false" />
            </h:selectOneMenu><br />
            My Mixcloud username is
            <h:inputText value="#{settings.listener.cloudId}" />.
            
            <h:commandButton action="#{settings.save}" value="Save" />
            <h:commandButton action="#{auth.logout}" value="Logout" />
        </h:form>
        
    </body>
</html>

